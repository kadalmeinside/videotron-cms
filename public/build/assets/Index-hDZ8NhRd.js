import{j as O,i as v,r as g,x as R,k as H,W as $,f as b,o as x,a,u as o,g as K,w as r,b as e,c as Y,h as z,e as _,F as S,l as G,t as i,n as L,d as J,q as P,v as Q}from"./app-D5jj9jN6.js";import{A as X}from"./AuthenticatedLayout-FH42ZQ7d.js";import{_ as N}from"./PrimaryButton-BXrArDxD.js";import{_ as T}from"./SecondaryButton-ZqUIV-GI.js";import{D as Z}from"./DangerButton-CKPW7UI9.js";import{_ as U}from"./Modal-DdcYj4H2.js";import{_ as u}from"./InputError-D-FcSLJU.js";import{_ as m}from"./InputLabel-AzlQdYHy.js";import{_ as p}from"./TextInput-BHTSabko.js";import{_ as ee}from"./Toast-CTNoNhW2.js";import{l as te}from"./lodash-DtooVBc9.js";import{r as se,a as ae,b as le}from"./TrashIcon-CjdFo0K5.js";import"./XMarkIcon-DDGvOkuk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const oe={class:"pb-12 pt-4"},ne={class:"max-w-full mx-auto"},re={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},de={class:"p-6 text-gray-900 dark:text-gray-100"},ie={class:"mb-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4"},ue={class:"overflow-x-auto"},me={class:"min-w-full divide-y divide-gray-200"},pe={class:"bg-white divide-y divide-gray-200"},ce={key:0},fe={class:"px-6 py-4 font-medium"},ve={class:"px-6 py-4"},ge={class:"px-6 py-4"},xe={class:"px-6 py-4"},_e={class:"px-6 py-4 text-right"},ye=["onClick"],he=["onClick"],be={class:"text-lg font-medium border-b pb-3 mb-6"},Ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},we={class:"mt-6 flex justify-end space-x-3 border-t pt-6"},ke={class:"p-6"},Ce={class:"mt-2 text-sm text-gray-600"},Me={class:"mt-6 flex justify-end"},Oe={__name:"Index",setup($e){const c=O(),k=v(()=>c.props.videotronList||{data:[]}),B=v(()=>c.props.filters||{search:""}),D=v(()=>c.props.can||{}),E=v(()=>{var n;return(n=c.props.flash)==null?void 0:n.message}),j=v(()=>{var n;return((n=c.props.flash)==null?void 0:n.type)||"info"}),y=g(!1),d=g(!1),f=g(!1),h=g(null),V=g(B.value.search),s=R({id:null,name:"",location_name:"",latitude:"",longitude:"",resolution:"",status:"active"});H(V,te.debounce(n=>{$.get(route("admin.videotrons.index"),{search:n},{preserveState:!0,preserveScroll:!0,replace:!0,only:["videotronList","filters"]})},300));const q=()=>{d.value=!1,s.reset(),s.clearErrors(),y.value=!0},A=n=>{d.value=!0,s.reset(),s.clearErrors(),s.id=n.id,s.name=n.name,s.location_name=n.location_name,s.latitude=n.latitude,s.longitude=n.longitude,s.resolution=n.resolution,s.status=n.status,y.value=!0},w=()=>{y.value=!1},W=()=>{const n=d.value?"admin.videotrons.update":"admin.videotrons.store",t=d.value?s.id:void 0;s.submit(d.value?"put":"post",route(n,t),{preserveScroll:!0,onSuccess:()=>w()})},F=n=>{h.value=n,f.value=!0},I=()=>{h.value&&$.delete(route("admin.videotrons.destroy",h.value.id),{preserveScroll:!0,onSuccess:()=>{f.value=!1}})};return(n,t)=>(x(),b(S,null,[a(o(K),{title:"Manajemen Videotron"}),a(X,null,{header:r(()=>t[9]||(t[9]=[e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Manajemen Videotron",-1)])),default:r(()=>{var C;return[a(ee,{message:E.value,type:j.value},null,8,["message","type"]),e("div",oe,[e("div",ne,[e("div",re,[e("div",de,[e("div",ie,[a(p,{type:"text",modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=l=>V.value=l),placeholder:"Cari nama atau lokasi...",class:"w-full md:max-w-md"},null,8,["modelValue"]),(C=D.value)!=null&&C.manage_videotrons?(x(),Y(N,{key:0,onClick:q},{default:r(()=>[a(o(se),{class:"h-5 w-5 mr-2"}),t[10]||(t[10]=_(" Tambah Videotron "))]),_:1})):z("",!0)]),e("div",ue,[e("table",me,[t[12]||(t[12]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lokasi"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Resolusi"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi")])],-1)),e("tbody",pe,[k.value.data.length?(x(!0),b(S,{key:1},G(k.value.data,l=>(x(),b("tr",{key:l.id},[e("td",fe,i(l.name),1),e("td",ve,i(l.location_name),1),e("td",ge,i(l.resolution),1),e("td",xe,[e("span",{class:L(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",l.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},i(l.status),3)]),e("td",_e,[e("button",{onClick:M=>A(l),class:"p-1 mr-2 text-indigo-600 hover:text-indigo-900"},[a(o(ae),{class:"h-5 w-5"})],8,ye),e("button",{onClick:M=>F(l),class:"p-1 text-red-600 hover:text-red-900"},[a(o(le),{class:"h-5 w-5"})],8,he)])]))),128)):(x(),b("tr",ce,t[11]||(t[11]=[e("td",{colspan:"5",class:"px-6 py-4 text-center"},"Tidak ada data.",-1)])))])])])])])])]),a(U,{show:y.value,onClose:w,maxWidth:"2xl"},{default:r(()=>[e("form",{onSubmit:J(W,["prevent"]),class:"p-6",novalidate:""},[e("h2",be,i(d.value?"Edit":"Tambah")+" Videotron",1),e("div",Ve,[e("div",null,[a(m,{for:"name",value:"Nama Videotron",required:""}),a(p,{id:"name",modelValue:o(s).name,"onUpdate:modelValue":t[1]||(t[1]=l=>o(s).name=l),class:"mt-1 w-full",placeholder:"Cth: VTR-JKT-01"},null,8,["modelValue"]),a(u,{message:o(s).errors.name,class:"mt-2"},null,8,["message"])]),e("div",null,[a(m,{for:"location_name",value:"Nama Lokasi",required:""}),a(p,{id:"location_name",modelValue:o(s).location_name,"onUpdate:modelValue":t[2]||(t[2]=l=>o(s).location_name=l),class:"mt-1 w-full",placeholder:"Cth: Mall Grand Indonesia"},null,8,["modelValue"]),a(u,{message:o(s).errors.location_name,class:"mt-2"},null,8,["message"])]),e("div",null,[a(m,{for:"latitude",value:"Latitude (Opsional)"}),a(p,{id:"latitude",modelValue:o(s).latitude,"onUpdate:modelValue":t[3]||(t[3]=l=>o(s).latitude=l),type:"number",step:"any",class:"mt-1 w-full",placeholder:"Cth: -6.2013"},null,8,["modelValue"]),a(u,{message:o(s).errors.latitude,class:"mt-2"},null,8,["message"])]),e("div",null,[a(m,{for:"longitude",value:"Longitude (Opsional)"}),a(p,{id:"longitude",modelValue:o(s).longitude,"onUpdate:modelValue":t[4]||(t[4]=l=>o(s).longitude=l),type:"number",step:"any",class:"mt-1 w-full",placeholder:"Cth: 106.8225"},null,8,["modelValue"]),a(u,{message:o(s).errors.longitude,class:"mt-2"},null,8,["message"])]),e("div",null,[a(m,{for:"resolution",value:"Resolusi (Opsional)"}),a(p,{id:"resolution",modelValue:o(s).resolution,"onUpdate:modelValue":t[5]||(t[5]=l=>o(s).resolution=l),class:"mt-1 w-full",placeholder:"Cth: 1920x1080"},null,8,["modelValue"]),a(u,{message:o(s).errors.resolution,class:"mt-2"},null,8,["message"])]),e("div",null,[a(m,{for:"status",value:"Status",required:""}),P(e("select",{"onUpdate:modelValue":t[6]||(t[6]=l=>o(s).status=l),id:"status",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},t[13]||(t[13]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1),e("option",{value:"maintenance"},"Maintenance",-1)]),512),[[Q,o(s).status]]),a(u,{message:o(s).errors.status,class:"mt-2"},null,8,["message"])])]),e("div",we,[a(T,{onClick:w},{default:r(()=>t[14]||(t[14]=[_("Batal")])),_:1}),a(N,{disabled:o(s).processing,class:L({"opacity-25":o(s).processing})},{default:r(()=>[_(i(d.value?"Update":"Simpan"),1)]),_:1},8,["disabled","class"])])],32)]),_:1},8,["show"]),a(U,{show:f.value,onClose:t[8]||(t[8]=l=>f.value=!1),maxWidth:"md"},{default:r(()=>{var l;return[e("div",ke,[t[17]||(t[17]=e("h2",{class:"text-lg font-medium"},"Konfirmasi Hapus",-1)),e("p",Ce,'Yakin ingin menghapus videotron "'+i((l=h.value)==null?void 0:l.name)+'"?',1),e("div",Me,[a(T,{onClick:t[7]||(t[7]=M=>f.value=!1)},{default:r(()=>t[15]||(t[15]=[_("Batal")])),_:1}),a(Z,{onClick:I,class:"ml-3"},{default:r(()=>t[16]||(t[16]=[_("Ya, Hapus")])),_:1})])])]}),_:1},8,["show"])]}),_:1})],64))}};export{Oe as default};
