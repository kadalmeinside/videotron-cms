import{A as D}from"./AuthenticatedLayout-HllnW7fv.js";import{j as $,i as g,r as _,x as P,k as S,W as A,f as n,o as u,a,u as i,g as M,w as l,b as t,S as k,e as m,h as V,F as v,l as B,t as p,n as j}from"./app-BLeNn4LO.js";import{l as N}from"./lodash-BnKdaLBk.js";import{_ as E}from"./PrimaryButton-6Sj3evt6.js";import{_ as F}from"./SecondaryButton-DvDU7CXS.js";import{D as H,_ as L}from"./Modal-xru5_Yyr.js";import{_ as W}from"./TextInput-DSC7ne63.js";import{_ as I}from"./Toast-k947icgK.js";import{_ as T}from"./Pagination-Cdlmnzrx.js";import{r as z}from"./PlusIcon-CiPOsjGh.js";import"./XMarkIcon-CnMNgzJZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ExclamationTriangleIcon-Dbmr1S3L.js";const J={class:"pb-12 pt-4"},K={class:"max-w-full mx-auto"},Q={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},U={class:"p-6 text-gray-900 dark:text-gray-100"},Y={class:"mb-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4"},q={class:"overflow-x-auto"},G={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},O={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},R={key:0},X={class:"px-6 py-4 font-medium text-gray-900 dark:text-white"},Z={class:"px-6 py-4 text-gray-500 dark:text-gray-300"},tt={class:"px-6 py-4 text-gray-500 dark:text-gray-300"},et={class:"px-6 py-4 text-right text-sm font-medium space-x-4"},st=["onClick"],at={class:"mt-4"},lt={class:"p-6"},rt={class:"mt-2 text-sm text-gray-600"},it={class:"mt-6 flex justify-end"},ht={__name:"Index",setup(ot){const x=$(),y=g(()=>x.props.playlists||{data:[]}),h=g(()=>x.props.filters||{search:""});g(()=>x.props.can||{});const f=_(h.value.search),o=_(!1),c=P({}),d=_(null);S(f,N.debounce(r=>{A.get(route("admin.playlists.index"),{search:r},{preserveState:!0,preserveScroll:!0,replace:!0,only:["playlists","filters"]})},300));const b=r=>{d.value=r,o.value=!0},w=()=>{d.value&&c.delete(route("admin.playlists.destroy",d.value.id),{preserveScroll:!0,onSuccess:()=>{o.value=!1,d.value=null}})};return(r,e)=>(u(),n(v,null,[a(i(M),{title:"Manajemen Playlist Musik"}),a(D,null,{header:l(()=>e[3]||(e[3]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Manajemen Playlist Musik",-1)])),default:l(()=>[a(I),t("div",J,[t("div",K,[t("div",Q,[t("div",U,[t("div",Y,[a(W,{type:"text",modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=s=>f.value=s),placeholder:"Cari nama playlist...",class:"w-full md:max-w-md"},null,8,["modelValue"]),a(i(k),{href:r.route("admin.playlists.create")},{default:l(()=>[a(E,null,{default:l(()=>[a(i(z),{class:"h-5 w-5 mr-2"}),e[4]||(e[4]=m(" Buat Playlist "))]),_:1})]),_:1},8,["href"])]),t("div",q,[t("table",G,[e[7]||(e[7]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Nama Playlist"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Jumlah Musik"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Dibuat Pada"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Aksi")])],-1)),t("tbody",O,[y.value.data.length?V("",!0):(u(),n("tr",R,e[5]||(e[5]=[t("td",{colspan:"4",class:"px-6 py-4 text-center text-gray-500"},"Playlist tidak ditemukan.",-1)]))),(u(!0),n(v,null,B(y.value.data,s=>(u(),n("tr",{key:s.id},[t("td",X,p(s.name),1),t("td",Z,p(s.musics_count)+" musik",1),t("td",tt,p(new Date(s.created_at).toLocaleDateString("id-ID")),1),t("td",et,[a(i(k),{href:r.route("admin.playlists.edit",s.id),class:"font-semibold text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:l(()=>e[6]||(e[6]=[m(" Atur Musik & Edit ")])),_:2},1032,["href"]),t("button",{onClick:C=>b(s),class:"font-semibold text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," Hapus ",8,st)])]))),128))])])]),t("div",at,[a(T,{links:y.value.links},null,8,["links"])])])])])])]),_:1}),a(L,{show:o.value,onClose:e[2]||(e[2]=s=>o.value=!1),maxWidth:"md"},{default:l(()=>{var s;return[t("div",lt,[e[10]||(e[10]=t("h2",{class:"text-lg font-medium text-gray-900"},"Konfirmasi Hapus",-1)),t("p",rt,' Apakah Anda yakin ingin menghapus playlist "'+p((s=d.value)==null?void 0:s.name)+'"? Aksi ini tidak dapat dibatalkan. ',1),t("div",it,[a(F,{onClick:e[1]||(e[1]=C=>o.value=!1)},{default:l(()=>e[8]||(e[8]=[m("Batal")])),_:1}),a(H,{onClick:w,class:j(["ml-3",{"opacity-25":i(c).processing}]),disabled:i(c).processing},{default:l(()=>e[9]||(e[9]=[m("Ya, Hapus")])),_:1},8,["class","disabled"])])])]}),_:1},8,["show"])],64))}};export{ht as default};
