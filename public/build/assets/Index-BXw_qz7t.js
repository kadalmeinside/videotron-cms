import{A as u}from"./AuthenticatedLayout-XBVBvuiC.js";import{r as x,y as h,z as w,f as a,o as n,a as i,u as l,g as p,w as g,b as r,F as d,l as f,n as k,t as m}from"./app-uG_Ut-Td.js";import{r as _}from"./CheckCircleIcon-Cvyo4Zjl.js";import{r as y}from"./XCircleIcon-D0vyVOEG.js";import"./XMarkIcon-CvPTwrjB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const b={class:"pb-12 pt-4"},v={class:"max-w-full mx-auto"},S={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},E={class:"p-6 text-gray-900 dark:text-gray-100"},V={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},B={class:"font-bold text-lg text-gray-800 dark:text-gray-100"},M={class:"flex items-center mt-1"},A={class:"text-xs text-gray-400 dark:text-gray-500 mt-2 h-4"},F={__name:"Index",props:{allVideotrons:Array},setup(c){const s=x(new Set);return h(()=>{if(!window.Echo){console.error("Laravel Echo tidak diinisialisasi!");return}window.Echo.join("monitoring").here(t=>{console.log("Diterima saat masuk:",t);const e=t.map(o=>o.id);s.value=new Set(e)}).joining(t=>{console.log("Bergabung:",t);const e=new Set(s.value);e.add(t.id),s.value=e}).leaving(t=>{console.log("Meninggalkan:",t);const e=new Set(s.value);e.delete(t.id),s.value=e}).error(t=>{console.error("Koneksi WebSocket Error:",t)})}),w(()=>{window.Echo&&window.Echo.leave("monitoring")}),(t,e)=>(n(),a(d,null,[i(l(p),{title:"Monitoring Status"}),i(u,null,{header:g(()=>e[0]||(e[0]=[r("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Monitoring Real-Time Videotron ",-1)])),default:g(()=>[r("div",b,[r("div",v,[r("div",S,[r("div",E,[r("div",V,[(n(!0),a(d,null,f(c.allVideotrons,o=>(n(),a("div",{key:o.id,class:k(["border-l-4 p-4 rounded-r-lg shadow-md transition-all duration-300",{"border-green-500 bg-green-50 dark:bg-green-900/20":s.value.has(o.id),"border-red-500 bg-red-50 dark:bg-red-900/20":!s.value.has(o.id)}])},[r("p",B,m(o.name),1),r("div",M,[s.value.has(o.id)?(n(),a(d,{key:0},[i(l(_),{class:"h-5 w-5 mr-1.5 text-green-500"}),e[1]||(e[1]=r("span",{class:"text-sm font-medium text-green-700 dark:text-green-400"},"Online",-1))],64)):(n(),a(d,{key:1},[i(l(y),{class:"h-5 w-5 mr-1.5 text-red-500"}),e[2]||(e[2]=r("span",{class:"text-sm font-medium text-red-700 dark:text-red-400"},"Offline",-1))],64))]),r("p",A,m(o.id),1)],2))),128))])])])])])]),_:1})],64))}};export{F as default};
