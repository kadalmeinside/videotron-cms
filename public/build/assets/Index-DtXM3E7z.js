import{A as T}from"./AuthenticatedLayout-DnHg0eJT.js";import{j as V,i as p,r as g,k as j,W as k,f as o,o as r,a as l,u as n,g as A,w as i,b as e,h,c as b,e as v,F as c,l as w,t as _,S as C,n as D}from"./app-BzrRThjh.js";import{l as L}from"./lodash-C7dAvps1.js";import{_ as N}from"./PrimaryButton-LQ97rJMg.js";import{_ as E}from"./SecondaryButton-VM52dsy7.js";import{D as W}from"./DangerButton-B35ZFC1t.js";import{_ as F}from"./Modal-Cr5BV0p4.js";import{_ as z}from"./TextInput-DzWFtkef.js";import{_ as I}from"./Toast-CUwtXoyj.js";import{r as J,a as K,b as Q}from"./TrashIcon-DlkFPyD6.js";import"./XMarkIcon-BzmqphT5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"pb-12 pt-4"},Y={class:"max-w-full mx-auto"},q={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},G={class:"p-6 text-gray-900 dark:text-gray-100"},O={class:"mb-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4"},R={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Z={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ee={key:0},te={class:"px-6 py-4 font-medium text-gray-900 dark:text-white"},se={class:"px-6 py-4 text-gray-500 dark:text-gray-300"},ae={class:"px-6 py-4 text-right text-sm"},le=["onClick"],re={key:0,class:"mt-4 flex flex-wrap justify-center"},oe=["innerHTML"],ie={class:"p-6"},ne={class:"mt-2 text-sm text-gray-600"},de={class:"mt-6 flex justify-end"},we={__name:"Index",setup(ue){const d=V(),y=p(()=>d.props.playlists||{data:[]}),$=p(()=>d.props.filters||{search:""}),M=p(()=>d.props.can||{}),B=p(()=>{var a;return(a=d.props.flash)==null?void 0:a.message}),H=p(()=>{var a;return((a=d.props.flash)==null?void 0:a.type)||"info"}),f=g($.value.search),u=g(!1),m=g(null);j(f,L.debounce(a=>{k.get(route("admin.playlists.index"),{search:a},{preserveState:!0,preserveScroll:!0,replace:!0,only:["playlists","filters"]})},300));const P=a=>{m.value=a,u.value=!0},S=()=>{m.value&&k.delete(route("admin.playlists.destroy",m.value.id),{preserveScroll:!0,onSuccess:()=>{u.value=!1,m.value=null}})};return(a,t)=>(r(),o(c,null,[l(n(A),{title:"Manajemen Playlist"}),l(T,null,{header:i(()=>t[3]||(t[3]=[e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Manajemen Playlist",-1)])),default:i(()=>[l(I,{message:B.value,type:H.value},null,8,["message","type"]),e("div",U,[e("div",Y,[e("div",q,[e("div",G,[e("div",O,[l(z,{type:"text",modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=s=>f.value=s),placeholder:"Cari nama playlist...",class:"w-full md:max-w-md"},null,8,["modelValue"]),M.value.manage_playlists?(r(),b(N,{key:0,href:a.route("admin.playlists.create")},{default:i(()=>[l(n(J),{class:"h-5 w-5 mr-2"}),t[4]||(t[4]=v(" Buat Playlist "))]),_:1},8,["href"])):h("",!0)]),e("div",R,[e("table",X,[t[6]||(t[6]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Nama Playlist"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Jumlah Media"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Aksi")])],-1)),e("tbody",Z,[y.value.data.length?h("",!0):(r(),o("tr",ee,t[5]||(t[5]=[e("td",{colspan:"3",class:"px-6 py-4 text-center text-gray-500"},"Playlist tidak ditemukan.",-1)]))),(r(!0),o(c,null,w(y.value.data,s=>(r(),o("tr",{key:s.id},[e("td",te,_(s.name),1),e("td",se,_(s.media_count)+" item",1),e("td",ae,[l(n(C),{href:a.route("admin.playlists.edit",s.id),class:"p-1 mr-2 text-indigo-600 hover:text-indigo-900",title:"Edit"},{default:i(()=>[l(n(K),{class:"h-5 w-5 inline"})]),_:2},1032,["href"]),e("button",{onClick:x=>P(s),class:"p-1 text-red-600 hover:text-red-900",title:"Hapus"},[l(n(Q),{class:"h-5 w-5 inline"})],8,le)])]))),128))])])]),y.value.links.length>3?(r(),o("div",re,[(r(!0),o(c,null,w(y.value.links,(s,x)=>(r(),o(c,{key:x},[s.url===null?(r(),o("div",{key:0,class:"mr-1 mb-1 px-3 py-2 text-sm text-gray-400 border rounded",innerHTML:s.label},null,8,oe)):(r(),b(n(C),{key:1,href:s.url,class:D(["mr-1 mb-1 px-3 py-2 text-sm border rounded hover:bg-gray-100",{"bg-blue-600 text-white":s.active}]),innerHTML:s.label,"preserve-scroll":""},null,8,["href","class","innerHTML"]))],64))),128))])):h("",!0)])])])])]),_:1}),l(F,{show:u.value,onClose:t[2]||(t[2]=s=>u.value=!1),maxWidth:"md"},{default:i(()=>{var s;return[e("div",ie,[t[9]||(t[9]=e("h2",{class:"text-lg font-medium text-gray-900"},"Konfirmasi Hapus",-1)),e("p",ne,' Apakah Anda yakin ingin menghapus playlist "'+_((s=m.value)==null?void 0:s.name)+'"? Aksi ini tidak dapat dibatalkan. ',1),e("div",de,[l(E,{onClick:t[1]||(t[1]=x=>u.value=!1)},{default:i(()=>t[7]||(t[7]=[v("Batal")])),_:1}),l(W,{onClick:S,class:"ml-3"},{default:i(()=>t[8]||(t[8]=[v("Ya, Hapus")])),_:1})])])]}),_:1},8,["show"])],64))}};export{we as default};
