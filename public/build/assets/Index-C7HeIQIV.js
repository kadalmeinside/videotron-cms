import{c as j,A as S}from"./AuthenticatedLayout-XBVBvuiC.js";import{f as d,o as l,b as t,j as V,i as L,r as k,x as D,a as s,u as o,g as P,w as n,h as _,S as v,e as m,F as w,l as H,c as b,t as x,n as N}from"./app-uG_Ut-Td.js";import{_ as T}from"./Pagination-v1e9kfcg.js";import{_ as F}from"./PrimaryButton-Cf_dIBSR.js";import{_ as E}from"./SecondaryButton-BTBcrxEK.js";import{_ as I,D as Q}from"./Modal-BnI9BkGT.js";import{_ as Z}from"./TextInput-D9MmRmYL.js";import{r as z}from"./PlusIcon-KaFgXn_y.js";import{r as J}from"./TrashIcon-BELVf_qE.js";import{r as O}from"./ExclamationTriangleIcon-Dw2vy__R.js";import"./XMarkIcon-CvPTwrjB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function U(y,p){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"})])}function q(y,p){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function G(y,p){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})])}const K={class:"pb-12 pt-4"},R={class:"max-w-full mx-auto"},W={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},X={class:"p-6 text-gray-900 dark:text-gray-100"},Y={class:"mb-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4"},tt={class:"overflow-x-auto"},et={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},at={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},st={key:0},rt={colspan:"7",class:"px-6 py-10 text-center text-gray-500 dark:text-gray-400"},ot={class:"px-6 py-4"},lt=["onClick"],nt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},it={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},xt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ct={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},mt=["onClick"],pt={key:0,class:"p-4 border-t border-gray-200 dark:border-gray-700"},gt={class:"p-6"},yt={class:"flex items-start"},ht={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},ft={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},kt={class:"mt-2"},_t={class:"text-sm text-gray-500 dark:text-gray-400"},vt={class:"font-bold"},wt={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse gap-2"},Ht={__name:"Index",setup(y){const p=V(),g=L(()=>p.props.musicList||{data:[],links:[]}),h=k(!1),i=D({id:null,title:""}),u=k(null),c=k(null),C=a=>{c.value===a.id?(u.value.pause(),c.value=null):(u.value||(u.value=new Audio,u.value.addEventListener("ended",()=>{c.value=null})),u.value.src=`/storage/${a.file_path}`,u.value.play(),c.value=a.id)},M=a=>{if(!a)return"0:00";const e=Math.floor(a/60),r=Math.floor(a%60);return`${e}:${r.toString().padStart(2,"0")}`},$=a=>{i.id=a.id,i.title=a.title,h.value=!0},f=()=>{h.value=!1},A=()=>{i.delete(route("admin.music.destroy",i.id),{preserveScroll:!0,onSuccess:()=>f()})};return(a,e)=>(l(),d(w,null,[s(o(P),{title:"Manajemen Musik"}),s(S,null,{header:n(()=>e[1]||(e[1]=[t("div",{class:"flex justify-between items-center"},[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Manajemen Musik ")],-1)])),default:n(()=>[t("div",K,[t("div",R,[t("div",W,[t("div",X,[t("div",Y,[s(Z,{type:"text",modelValue:a.searchQuery,"onUpdate:modelValue":e[0]||(e[0]=r=>a.searchQuery=r),placeholder:"Cari nama music...",class:"w-full md:max-w-md"},null,8,["modelValue"]),s(o(v),{href:a.route("admin.music.create")},{default:n(()=>[s(F,null,{default:n(()=>[s(o(z),{class:"h-5 w-5 mr-2"}),e[2]||(e[2]=m(" Tambah Musik Baru "))]),_:1})]),_:1},8,["href"])]),t("div",tt,[t("table",et,[e[5]||(e[5]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Putar"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Judul"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Penyanyi"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Album"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Tahun"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Durasi"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Aksi")])],-1)),t("tbody",at,[g.value.data.length?_("",!0):(l(),d("tr",st,[t("td",rt,[s(o(j),{class:"mx-auto h-12 w-12 text-gray-400"}),e[3]||(e[3]=t("h3",{class:"mt-2 text-sm font-semibold"},"Belum Ada Musik",-1)),e[4]||(e[4]=t("p",{class:"mt-1 text-sm"},"Silakan tambahkan musik baru.",-1))])])),(l(!0),d(w,null,H(g.value.data,r=>(l(),d("tr",{key:r.id},[t("td",ot,[t("button",{onClick:B=>C(r),class:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700"},[c.value===r.id?(l(),b(o(U),{key:0,class:"h-5 w-5 text-blue-500"})):(l(),b(o(G),{key:1,class:"h-5 w-5 text-gray-500"}))],8,lt)]),t("td",nt,x(r.title),1),t("td",dt,x(r.singer),1),t("td",it,x(r.album||"-"),1),t("td",ut,x(r.year||"-"),1),t("td",xt,x(M(r.duration)),1),t("td",ct,[s(o(v),{href:a.route("admin.music.edit",r.id),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:n(()=>[s(o(q),{class:"h-5 w-5 inline-block"})]),_:2},1032,["href"]),t("button",{onClick:B=>$(r),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"},[s(o(J),{class:"h-5 w-5 inline-block"})],8,mt)])]))),128))])])]),g.value.data.length>0?(l(),d("div",pt,[s(T,{links:g.value.links},null,8,["links"])])):_("",!0)])])])]),s(I,{show:h.value,onClose:f},{default:n(()=>[t("div",gt,[t("div",yt,[t("div",ht,[s(o(O),{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),t("div",ft,[e[8]||(e[8]=t("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100"}," Hapus Musik ",-1)),t("div",kt,[t("p",_t,[e[6]||(e[6]=m(" Apakah Anda yakin ingin menghapus musik ")),t("span",vt,x(o(i).title),1),e[7]||(e[7]=m("? Tindakan ini tidak dapat dibatalkan. "))])])])]),t("div",wt,[s(Q,{onClick:A,class:N({"opacity-25":o(i).processing}),disabled:o(i).processing},{default:n(()=>e[9]||(e[9]=[m(" Hapus ")])),_:1},8,["class","disabled"]),s(E,{onClick:f},{default:n(()=>e[10]||(e[10]=[m(" Batal ")])),_:1})])])]),_:1},8,["show"])]),_:1})],64))}};export{Ht as default};
