import{j as E,r as x,x as k,f as y,o as u,a as s,u as l,g as O,w as d,b as e,c as F,h as w,e as r,F as b,l as H,t as v,S as I,d as L,p as U,s as q,n as z}from"./app-1Y8zgK_u.js";import{A as K}from"./AuthenticatedLayout-C3U01NLj.js";import{_ as C}from"./PrimaryButton-qr8OK47F.js";import{_ as $}from"./SecondaryButton-BzBKOSNX.js";import{_ as B,D as W}from"./Modal-BfnrhBMy.js";import{_ as M}from"./InputLabel-C134EFyr.js";import{_ as Y}from"./TextInput-C6vV7-lH.js";import{_ as S}from"./InputError-DElB5cka.js";import{_ as G}from"./Toast-NILzICf9.js";import{r as P}from"./PlusIcon-CFOJvsAp.js";import"./XMarkIcon-CHTrPqRh.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ExclamationTriangleIcon--pKVNfcl.js";const Q={class:"pb-12 pt-4"},R={class:"max-w-full mx-auto"},X={class:"flex justify-end mb-4"},Z={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ee={class:"overflow-x-auto"},te={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},se={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ae={key:0},le={class:"px-6 py-4 font-medium text-gray-900 dark:text-white"},oe={class:"px-6 py-4 text-gray-500 dark:text-gray-300"},de={class:"px-6 py-4 text-right text-sm font-medium space-x-4"},ie=["onClick"],ne=["onClick"],re={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},me={class:"mt-6 space-y-4"},ue={class:"mt-6 flex justify-end"},pe={class:"p-6"},fe={class:"mt-2 text-sm text-gray-600"},ce={class:"mt-6 flex justify-end"},Se={__name:"Index",props:{schedules:Object,can:Object},setup(_){E();const p=x(!1),f=x(!1),m=x(!1),a=k({id:null,name:"",description:""}),T=k({}),c=x(null),j=()=>{f.value=!1,a.reset(),p.value=!0},D=i=>{f.value=!0,a.id=i.id,a.name=i.name,a.description=i.description,p.value=!0},g=()=>{p.value=!1},V=()=>{f.value?a.put(route("admin.schedules.update",a.id),{onSuccess:()=>g()}):a.post(route("admin.schedules.store"),{onSuccess:()=>g()})},N=i=>{c.value=i,m.value=!0},A=()=>{T.delete(route("admin.schedules.destroy",c.value.id),{onSuccess:()=>{m.value=!1,c.value=null}})};return(i,t)=>(u(),y(b,null,[s(l(O),{title:"Manajemen Template Jadwal"}),s(K,null,{header:d(()=>t[4]||(t[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Manajemen Template Jadwal ",-1)])),default:d(()=>{var o,h;return[s(G,{message:(o=i.$page.props.flash)==null?void 0:o.message,type:(h=i.$page.props.flash)==null?void 0:h.type},null,8,["message","type"]),e("div",Q,[e("div",R,[e("div",X,[_.can.manage_schedules?(u(),F(C,{key:0,onClick:j},{default:d(()=>[s(l(P),{class:"h-5 w-5 mr-2"}),t[5]||(t[5]=r(" Buat Template Baru "))]),_:1})):w("",!0)]),e("div",Z,[e("div",ee,[e("table",te,[t[8]||(t[8]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Nama Template Jadwal"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Jumlah Item"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Aksi")])],-1)),e("tbody",se,[_.schedules.data.length?w("",!0):(u(),y("tr",ae,t[6]||(t[6]=[e("td",{colspan:"3",class:"px-6 py-4 text-center text-gray-500"},"Belum ada template jadwal.",-1)]))),(u(!0),y(b,null,H(_.schedules.data,n=>(u(),y("tr",{key:n.id},[e("td",le,v(n.name),1),e("td",oe,v(n.schedule_items_count)+" item",1),e("td",de,[s(l(I),{href:i.route("admin.schedules.show",n.id),class:"font-semibold text-blue-600 hover:text-blue-900"},{default:d(()=>t[7]||(t[7]=[r(" Atur Jadwal ")])),_:2},1032,["href"]),e("button",{onClick:J=>D(n),class:"font-semibold text-indigo-600 hover:text-indigo-900"}," Edit Nama ",8,ie),e("button",{onClick:J=>N(n),class:"font-semibold text-red-600 hover:text-red-900"}," Hapus ",8,ne)])]))),128))])])])])])])]}),_:1}),s(B,{show:p.value,onClose:g},{default:d(()=>[e("form",{onSubmit:L(V,["prevent"]),class:"p-6"},[e("h2",re,v(f.value?"Edit":"Tambah")+" Template Jadwal ",1),e("div",me,[e("div",null,[s(M,{for:"name",value:"Nama Template",required:""}),s(Y,{id:"name",modelValue:l(a).name,"onUpdate:modelValue":t[0]||(t[0]=o=>l(a).name=o),class:"mt-1 w-full"},null,8,["modelValue"]),s(S,{message:l(a).errors.name,class:"mt-2"},null,8,["message"])]),e("div",null,[s(M,{for:"description",value:"Deskripsi (Opsional)"}),U(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=o=>l(a).description=o),rows:"3",class:"mt-1 w-full border-gray-300 rounded-md shadow-sm"},null,512),[[q,l(a).description]]),s(S,{message:l(a).errors.description,class:"mt-2"},null,8,["message"])])]),e("div",ue,[s($,{onClick:g},{default:d(()=>t[9]||(t[9]=[r("Batal")])),_:1}),s(C,{class:z(["ml-3",{"opacity-25":l(a).processing}]),disabled:l(a).processing},{default:d(()=>t[10]||(t[10]=[r(" Simpan ")])),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"]),s(B,{show:m.value,onClose:t[3]||(t[3]=o=>m.value=!1),maxWidth:"md"},{default:d(()=>{var o;return[e("div",pe,[t[13]||(t[13]=e("h2",{class:"text-lg font-medium text-gray-900"},"Konfirmasi Hapus",-1)),e("p",fe,' Apakah Anda yakin ingin menghapus template "'+v((o=c.value)==null?void 0:o.name)+'"? ',1),e("div",ce,[s($,{onClick:t[2]||(t[2]=h=>m.value=!1)},{default:d(()=>t[11]||(t[11]=[r("Batal")])),_:1}),s(W,{onClick:A,class:"ml-3"},{default:d(()=>t[12]||(t[12]=[r("Ya, Hapus")])),_:1})])])]}),_:1},8,["show"])],64))}};export{Se as default};
