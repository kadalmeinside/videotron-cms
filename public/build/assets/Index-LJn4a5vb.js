import{j as R,i as x,r as _,x as Y,k as z,W as T,f as p,o as n,a,u as o,g as G,w as r,b as e,c as J,h as Q,e as y,F as k,l as C,t as u,n as A,d as X,p as S,v as M}from"./app-riK_Pjuz.js";import{A as Z}from"./AuthenticatedLayout-lOswsTzd.js";import{_ as B}from"./PrimaryButton-DS45Yteh.js";import{_ as N}from"./SecondaryButton-jxNy2iAV.js";import{_ as j,D as ee}from"./Modal-K-nGm6d_.js";import{_ as c}from"./InputError-1u9de0yr.js";import{_ as i}from"./InputLabel-BcSCvgN5.js";import{_ as f}from"./TextInput-B-WSdySS.js";import{_ as se}from"./Toast-Xy0HtaLX.js";import{l as te}from"./lodash-CnciMvR8.js";import{r as le}from"./PlusIcon-DcIUk0jz.js";import{r as ae,a as oe}from"./TrashIcon-4I0m1BuX.js";import"./XMarkIcon-5zbANY7g.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ExclamationTriangleIcon-C39YIVCf.js";const de={class:"pb-12 pt-4"},ie={class:"max-w-full mx-auto"},ne={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},re={class:"p-6 text-gray-900 dark:text-gray-100"},ue={class:"mb-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4"},me={class:"overflow-x-auto"},pe={class:"min-w-full divide-y divide-gray-200"},ce={class:"bg-white divide-y divide-gray-200"},fe={key:0},ve={class:"px-6 py-4 font-medium"},ge={class:"px-6 py-4 font-mono text-xs text-gray-500"},xe={class:"px-6 py-4"},_e={class:"px-6 py-4"},ye={class:"px-6 py-4 text-right"},he=["onClick"],we=["onClick"],ke={class:"text-lg font-medium border-b pb-3 mb-6"},Ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},be={class:"md:col-span-2"},Ce={class:"md:col-span-2"},Se={class:"md:col-span-2"},Me=["value"],$e={class:"md:col-span-2"},De=["value"],Ue={class:"mt-6 flex justify-end space-x-3 border-t pt-6"},Le={class:"p-6"},Te={class:"mt-2 text-sm text-gray-600"},Ae={class:"mt-6 flex justify-end"},Ge={__name:"Index",props:{allPlaylists:Array,allSchedules:Array},setup($){const v=R(),D=x(()=>v.props.videotronList||{data:[]}),E=x(()=>v.props.filters||{search:""}),I=x(()=>v.props.can||{}),P=x(()=>{var d;return(d=v.props.flash)==null?void 0:d.message}),O=x(()=>{var d;return((d=v.props.flash)==null?void 0:d.type)||"info"}),h=_(!1),m=_(!1),g=_(!1),w=_(null),V=_(E.value.search),t=Y({id:null,name:"",location_name:"",latitude:"",longitude:"",resolution:"",status:"active",device_id:"",password:"",playlist_id:"",schedule_id:""});z(V,te.debounce(d=>{T.get(route("admin.videotrons.index"),{search:d},{preserveState:!0,preserveScroll:!0,replace:!0,only:["videotronList","filters"]})},300));const W=()=>{m.value=!1,t.reset(),t.clearErrors(),h.value=!0},q=d=>{m.value=!0,t.reset(),t.clearErrors(),t.id=d.id,t.name=d.name,t.location_name=d.location_name,t.latitude=d.latitude,t.longitude=d.longitude,t.resolution=d.resolution,t.status=d.status,t.device_id=d.device_id,t.playlist_id=d.playlist_id||"",t.schedule_id=d.schedule_id||"",h.value=!0},b=()=>{h.value=!1},F=()=>{const d=m.value?"admin.videotrons.update":"admin.videotrons.store",s=m.value?t.id:void 0;t.submit(m.value?"put":"post",route(d,s),{preserveScroll:!0,onSuccess:()=>b()})},K=d=>{w.value=d,g.value=!0},H=()=>{w.value&&T.delete(route("admin.videotrons.destroy",w.value.id),{preserveScroll:!0,onSuccess:()=>{g.value=!1}})};return(d,s)=>(n(),p(k,null,[a(o(G),{title:"Manajemen Videotron"}),a(Z,null,{header:r(()=>s[13]||(s[13]=[e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Manajemen Videotron",-1)])),default:r(()=>{var U;return[a(se,{message:P.value,type:O.value},null,8,["message","type"]),e("div",de,[e("div",ie,[e("div",ne,[e("div",re,[e("div",ue,[a(f,{type:"text",modelValue:V.value,"onUpdate:modelValue":s[0]||(s[0]=l=>V.value=l),placeholder:"Cari nama atau lokasi...",class:"w-full md:max-w-md"},null,8,["modelValue"]),(U=I.value)!=null&&U.manage_videotrons?(n(),J(B,{key:0,onClick:W},{default:r(()=>[a(o(le),{class:"h-5 w-5 mr-2"}),s[14]||(s[14]=y(" Tambah Videotron "))]),_:1})):Q("",!0)]),e("div",me,[e("table",pe,[s[16]||(s[16]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Device ID"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lokasi"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi")])],-1)),e("tbody",ce,[D.value.data.length?(n(!0),p(k,{key:1},C(D.value.data,l=>(n(),p("tr",{key:l.id},[e("td",ve,u(l.name),1),e("td",ge,u(l.device_id||"-"),1),e("td",xe,u(l.location_name),1),e("td",_e,[e("span",{class:A(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",l.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},u(l.status),3)]),e("td",ye,[e("button",{onClick:L=>q(l),class:"p-1 mr-2 text-indigo-600 hover:text-indigo-900"},[a(o(ae),{class:"h-5 w-5"})],8,he),e("button",{onClick:L=>K(l),class:"p-1 text-red-600 hover:text-red-900"},[a(o(oe),{class:"h-5 w-5"})],8,we)])]))),128)):(n(),p("tr",fe,s[15]||(s[15]=[e("td",{colspan:"5",class:"px-6 py-4 text-center"},"Tidak ada data.",-1)])))])])])])])])]),a(j,{show:h.value,onClose:b,maxWidth:"2xl"},{default:r(()=>[e("form",{onSubmit:X(F,["prevent"]),class:"p-6",novalidate:""},[e("h2",ke,u(m.value?"Edit":"Tambah")+" Videotron",1),e("div",Ve,[e("div",null,[a(i,{for:"name",value:"Nama Videotron",required:""}),a(f,{id:"name",modelValue:o(t).name,"onUpdate:modelValue":s[1]||(s[1]=l=>o(t).name=l),class:"mt-1 w-full",placeholder:"Cth: VTR-JKT-01"},null,8,["modelValue"]),a(c,{message:o(t).errors.name,class:"mt-2"},null,8,["message"])]),e("div",be,[a(i,{for:"device_id",value:"Device ID (dari STB)"}),a(f,{id:"device_id",modelValue:o(t).device_id,"onUpdate:modelValue":s[2]||(s[2]=l=>o(t).device_id=l),class:"mt-1 w-full font-mono",placeholder:"ID unik dari perangkat Android"},null,8,["modelValue"]),a(c,{message:o(t).errors.device_id,class:"mt-2"},null,8,["message"])]),e("div",Ce,[a(i,{for:"password",value:"Password Player"}),a(f,{id:"password",modelValue:o(t).password,"onUpdate:modelValue":s[3]||(s[3]=l=>o(t).password=l),type:"password",class:"mt-1 w-full",placeholder:m.value?"Kosongkan jika tidak ingin diubah":"Min. 6 karakter"},null,8,["modelValue","placeholder"]),a(c,{message:o(t).errors.password,class:"mt-2"},null,8,["message"])]),e("div",Se,[a(i,{for:"playlist_id",value:"Playlist Musik Latar (Opsional)"}),S(e("select",{"onUpdate:modelValue":s[4]||(s[4]=l=>o(t).playlist_id=l),id:"playlist_id",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},[s[17]||(s[17]=e("option",{value:""},"-- Tidak Ada Musik Latar --",-1)),(n(!0),p(k,null,C($.allPlaylists,l=>(n(),p("option",{key:l.id,value:l.id},u(l.name),9,Me))),128))],512),[[M,o(t).playlist_id]])]),e("div",$e,[a(i,{for:"schedule_id",value:"Schedule (Opsional)"}),S(e("select",{"onUpdate:modelValue":s[5]||(s[5]=l=>o(t).schedule_id=l),id:"playlist_id",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},[s[18]||(s[18]=e("option",{value:""},"-- Tidak Ada Schedule --",-1)),(n(!0),p(k,null,C($.allSchedules,l=>(n(),p("option",{key:l.id,value:l.id},u(l.name),9,De))),128))],512),[[M,o(t).schedule_id]])]),e("div",null,[a(i,{for:"location_name",value:"Nama Lokasi",required:""}),a(f,{id:"location_name",modelValue:o(t).location_name,"onUpdate:modelValue":s[6]||(s[6]=l=>o(t).location_name=l),class:"mt-1 w-full",placeholder:"Cth: Mall Grand Indonesia"},null,8,["modelValue"]),a(c,{message:o(t).errors.location_name,class:"mt-2"},null,8,["message"])]),e("div",null,[a(i,{for:"latitude",value:"Latitude (Opsional)"}),a(f,{id:"latitude",modelValue:o(t).latitude,"onUpdate:modelValue":s[7]||(s[7]=l=>o(t).latitude=l),type:"number",step:"any",class:"mt-1 w-full",placeholder:"Cth: -6.2013"},null,8,["modelValue"]),a(c,{message:o(t).errors.latitude,class:"mt-2"},null,8,["message"])]),e("div",null,[a(i,{for:"longitude",value:"Longitude (Opsional)"}),a(f,{id:"longitude",modelValue:o(t).longitude,"onUpdate:modelValue":s[8]||(s[8]=l=>o(t).longitude=l),type:"number",step:"any",class:"mt-1 w-full",placeholder:"Cth: 106.8225"},null,8,["modelValue"]),a(c,{message:o(t).errors.longitude,class:"mt-2"},null,8,["message"])]),e("div",null,[a(i,{for:"resolution",value:"Resolusi (Opsional)"}),a(f,{id:"resolution",modelValue:o(t).resolution,"onUpdate:modelValue":s[9]||(s[9]=l=>o(t).resolution=l),class:"mt-1 w-full",placeholder:"Cth: 1920x1080"},null,8,["modelValue"]),a(c,{message:o(t).errors.resolution,class:"mt-2"},null,8,["message"])]),e("div",null,[a(i,{for:"status",value:"Status",required:""}),S(e("select",{"onUpdate:modelValue":s[10]||(s[10]=l=>o(t).status=l),id:"status",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},s[19]||(s[19]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1),e("option",{value:"maintenance"},"Maintenance",-1)]),512),[[M,o(t).status]]),a(c,{message:o(t).errors.status,class:"mt-2"},null,8,["message"])])]),e("div",Ue,[a(N,{onClick:b},{default:r(()=>s[20]||(s[20]=[y("Batal")])),_:1}),a(B,{disabled:o(t).processing,class:A({"opacity-25":o(t).processing})},{default:r(()=>[y(u(m.value?"Update":"Simpan"),1)]),_:1},8,["disabled","class"])])],32)]),_:1},8,["show"]),a(j,{show:g.value,onClose:s[12]||(s[12]=l=>g.value=!1),maxWidth:"md"},{default:r(()=>{var l;return[e("div",Le,[s[23]||(s[23]=e("h2",{class:"text-lg font-medium"},"Konfirmasi Hapus",-1)),e("p",Te,'Yakin ingin menghapus videotron "'+u((l=w.value)==null?void 0:l.name)+'"?',1),e("div",Ae,[a(N,{onClick:s[11]||(s[11]=L=>g.value=!1)},{default:r(()=>s[21]||(s[21]=[y("Batal")])),_:1}),a(ee,{onClick:H,class:"ml-3"},{default:r(()=>s[22]||(s[22]=[y("Ya, Hapus")])),_:1})])])]}),_:1},8,["show"])]}),_:1})],64))}};export{Ge as default};
