{
    "sourceFile": "routes/web.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1754168596531,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1754168998802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,15 +73,8 @@\n             Route::post('settings', [SettingsController::class, 'update'])->name('settings.update');\n         });\n \n         Route::middleware(['role:admin|content-manager'])->group(function() {\n-            Route::prefix('api')->name('api.')->group(function() {\n-                Route::post('/schedule-items', [\\App\\Http\\Controllers\\Admin\\Api\\ScheduleItemController::class, 'store'])->name('schedule-items.store');\n-                Route::put('/schedule-items/{scheduleItem}', [\\App\\Http\\Controllers\\Admin\\Api\\ScheduleItemController::class, 'update'])->name('schedule-items.update');\n-                Route::delete('/schedule-items/{scheduleItem}', [\\App\\Http\\Controllers\\Admin\\Api\\ScheduleItemController::class, 'destroy'])->name('schedule-items.destroy');\n-                Route::post('/schedules/{schedule}/copy-date', [\\App\\Http\\Controllers\\Admin\\Api\\ScheduleItemController::class, 'copyDate'])->name('copydate');\n-            });\n-            \n             Route::get('dashboard', [DashboardController::class, 'index'])->name('dashboard');\n             Route::resource('videotrons', VideotronController::class);\n             Route::resource('clients', ClientController::class);\n             Route::prefix('media')->name('media.')->group(function () {\n"
                }
            ],
            "date": 1754168596531,
            "name": "Commit-0",
            "content": "<?php\n\nuse App\\Http\\Controllers\\ProfileController;\nuse Illuminate\\Foundation\\Application;\nuse Illuminate\\Support\\Facades\\Route;\nuse Illuminate\\Http\\Request;\nuse Inertia\\Inertia;\n\nuse App\\Http\\Controllers\\Admin\\Auth\\AuthenticatedSessionController as AdminAuthenticatedSessionController;\n\nuse App\\Http\\Controllers\\DisplayController;\nuse App\\Http\\Controllers\\Admin\\DashboardController;\nuse App\\Http\\Controllers\\Admin\\ClientController;\nuse App\\Http\\Controllers\\Admin\\VideotronController;\nuse App\\Http\\Controllers\\Admin\\VideotronActionController; \nuse App\\Http\\Controllers\\Admin\\MediaController;\nuse App\\Http\\Controllers\\Admin\\MusicController;\nuse App\\Http\\Controllers\\Admin\\MediaApprovalController;\nuse App\\Http\\Controllers\\Admin\\PlaylistController;\nuse App\\Http\\Controllers\\Admin\\ScheduleController;\nuse App\\Http\\Controllers\\Admin\\ScheduleBuilderController;\nuse App\\Http\\Controllers\\Admin\\RoleController;\nuse App\\Http\\Controllers\\Admin\\PermissionController;\nuse App\\Http\\Controllers\\Admin\\UserController;\nuse App\\Http\\Controllers\\Admin\\SettingsController;\nuse App\\Http\\Controllers\\Admin\\ReportController;\nuse App\\Http\\Controllers\\Admin\\MonitoringController;\nuse App\\Http\\Controllers\\Admin\\LogController;\n\n\nRoute::get('/', function (Request $request) {\n    return Inertia::render('Welcome', [\n        'canLogin' => Route::has('login'),\n        'canRegister' => Route::has('register'),\n        'userIp' => $request->ip(),\n        'laravelVersion' => Application::VERSION,\n        'phpVersion' => PHP_VERSION ,\n    ]);\n});\n\nRoute::get('/display', [DisplayController::class, 'index'])->name('display.index');\nRoute::get('/play/{uuid}', function ($uuid) {\n    return Inertia::render('Player/Index', [\n        'videotronUuid' => $uuid\n    ]);\n})->name('player.show');\n\nRoute::get('/dashboard', function () {\n    return Inertia::render('Dashboard');\n})->middleware(['auth', 'verified'])->name('dashboard');\n\nRoute::middleware('auth')->group(function () {\n    Route::get('/profile', [ProfileController::class, 'edit'])->name('profile.edit');\n    Route::patch('/profile', [ProfileController::class, 'update'])->name('profile.update');\n    Route::delete('/profile', [ProfileController::class, 'destroy'])->name('profile.destroy');\n});\n\nRoute::prefix('admin')->name('admin.')->group(function () {\n    Route::get('login', [AdminAuthenticatedSessionController::class, 'create'])\n                ->middleware('guest') // Hanya bisa diakses oleh guest (belum login)\n                ->name('login');\n\n    Route::post('login', [AdminAuthenticatedSessionController::class, 'store'])\n                ->middleware('guest');\n\n    Route::middleware(['auth', 'verified'])->group(function () {\n        \n        Route::middleware(['role:admin'])->group(function () {\n            Route::resource('roles', RoleController::class);\n            Route::resource('permissions', PermissionController::class);\n            Route::resource('users', UserController::class);\n            Route::get('settings', [SettingsController::class, 'index'])->name('settings.index');\n            Route::post('settings', [SettingsController::class, 'update'])->name('settings.update');\n        });\n\n        Route::middleware(['role:admin|content-manager'])->group(function() {\n            Route::prefix('api')->name('api.')->group(function() {\n                Route::post('/schedule-items', [\\App\\Http\\Controllers\\Admin\\Api\\ScheduleItemController::class, 'store'])->name('schedule-items.store');\n                Route::put('/schedule-items/{scheduleItem}', [\\App\\Http\\Controllers\\Admin\\Api\\ScheduleItemController::class, 'update'])->name('schedule-items.update');\n                Route::delete('/schedule-items/{scheduleItem}', [\\App\\Http\\Controllers\\Admin\\Api\\ScheduleItemController::class, 'destroy'])->name('schedule-items.destroy');\n                Route::post('/schedules/{schedule}/copy-date', [\\App\\Http\\Controllers\\Admin\\Api\\ScheduleItemController::class, 'copyDate'])->name('copydate');\n            });\n            \n            Route::get('dashboard', [DashboardController::class, 'index'])->name('dashboard');\n            Route::resource('videotrons', VideotronController::class);\n            Route::resource('clients', ClientController::class);\n            Route::prefix('media')->name('media.')->group(function () {\n                Route::get('/approvals', [MediaApprovalController::class, 'index'])->name('approvals.index');\n                Route::patch('/{medium}/approve', [MediaApprovalController::class, 'approve'])->name('approve');\n                Route::delete('/{medium}/reject', [MediaApprovalController::class, 'reject'])->name('reject');\n            });\n            Route::resource('media', MediaController::class);\n            Route::post('/music/analyze', [MusicController::class, 'analyze'])->name('music.analyze');\n            Route::resource('music', MusicController::class);\n            Route::get('/playlists/{playlist}/music', [PlaylistController::class, 'musicBuilder'])->name('playlists.musicBuilder');\n            Route::post('/playlists/{playlist}/music', [PlaylistController::class, 'saveMusicPlaylist'])->name('playlists.saveMusicPlaylist');\n            Route::resource('playlists', PlaylistController::class);\n            Route::get('/schedule-builder', [ScheduleBuilderController::class, 'index'])->name('schedule.builder');\n            Route::get('/schedules', [ScheduleController::class, 'index'])->name('schedules.index');\n            Route::get('/schedules/{schedule:id}', [ScheduleController::class, 'show'])->name('schedules.show');\n            Route::get('/reports', [ReportController::class, 'index'])->name('reports.index');\n            Route::get('/reports/export', [ReportController::class, 'export'])->name('reports.export');\n            Route::get('/monitoring', [MonitoringController::class, 'index'])->name('monitoring.index');\n            Route::get('/logs', [LogController::class, 'index'])->name('logs.index');\n            Route::get('/logs/export', [LogController::class, 'export'])->name('logs.export');\n            Route::post('/videotrons/{videotron}/force-sync', [VideotronActionController::class, 'forceSync'])\n                ->name('videotrons.force-sync');\n            Route::post('/videotrons/{videotron}/force-update', [VideotronActionController::class, 'forceUpdate'])\n                ->name('videotrons.force-update');\n\n        });\n\n    });\n});\n\nRoute::middleware(['auth', 'verified', 'role:client'])->prefix('siswa')\n    ->name('siswa.')->group(function () {\n        \n});\n\nrequire __DIR__.'/auth.php';\n"
        }
    ]
}